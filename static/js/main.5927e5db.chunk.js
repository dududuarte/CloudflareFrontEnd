(this["webpackJsonpfrontend-serverless-api"]=this["webpackJsonpfrontend-serverless-api"]||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var s=n(1),o=n.n(s),a=n(10),i=n.n(a),l=(n(36),n(15)),c=n.n(l),r=n(25),u=n(26),d=n(27),p=n(11),m=n(31),h=n(30),f=(n(38),n(7)),v=n(29),w=n(16),j=n.n(w),b=n(28),g=n.n(b),y=(n(50),n(17)),B=n(12),O=n(0),x=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={posts:[]},s.newUpload=s.newUpload.bind(Object(p.a)(s)),s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=Object(r.a)(c.a.mark((function t(){var n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://serverless-api.duartemcg.workers.dev/posts");case 2:return n=t.sent,t.next=5,n.json();case 5:s=t.sent,e.setState({posts:s});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}},{key:"newUpload",value:function(){var e=g()(j.a);e.fire({title:"Add new post",html:'<input id="swal-input1" class="swal2-input" placeholder="Title" required><input id="swal-input2" class="swal2-input" placeholder="Username" required><input id="swal-input3" class="swal2-input" placeholder="Content" required>',showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Add",cancelButtonText:"Cancel",preConfirm:function(){(""==document.getElementById("swal-input1").value||""==document.getElementById("swal-input1").value||null==document.getElementById("swal-input1").value&&""==document.getElementById("swal-input2").value||""==document.getElementById("swal-input2").value||null==document.getElementById("swal-input2").value&&""==document.getElementById("swal-input3").value||""==document.getElementById("swal-input3").value||null==document.getElementById("swal-input3").value)&&j.a.showValidationMessage("All fields are required fields")}}).then((function(t){if(t.isConfirmed){var n={method:"POST",body:JSON.stringify({title:document.getElementById("swal-input1").value,username:document.getElementById("swal-input2").value,content:document.getElementById("swal-input3").value,upvotes:0,downvotes:0})};console.log(n.body),fetch("https://serverless-api.duartemcg.workers.dev/posts",n).then((function(e){return e.json()})).then(e.fire({position:"top-end",icon:"success",title:"Your post has been posted",showConfirmButton:!1,timer:2e3})).then(setTimeout((function(){window.location.reload()}),2e3))}else e.fire({position:"top-end",icon:"error",title:"Operation Cancelled",showConfirmButton:!1,timer:1500})}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"add",children:Object(O.jsx)(v.a,{onClick:this.newUpload,children:"Add new Post"})}),Object(O.jsx)("div",{className:"align-item-center",children:this.state.posts.map((function(e){return Object(O.jsxs)(f.a,{className:"card",children:[Object(O.jsxs)(f.a.Header,{style:{textAling:"left"},children:[e.title," | By: ",e.username]}),Object(O.jsx)(f.a.Body,{children:Object(O.jsx)(f.a.Text,{children:e.content})}),Object(O.jsxs)(f.a.Footer,{className:"text-muted",children:[Object(O.jsx)(y.a,{icon:B.b})," ",e.upvotes," ",Object(O.jsx)(y.a,{icon:B.a})," ",e.downvotes]})]},e.id)}))})]})}}]),n}(o.a.Component),C=x,I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,s=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),o(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(C,{})}),document.getElementById("root")),I()}},[[57,1,2]]]);
//# sourceMappingURL=main.5927e5db.chunk.js.map